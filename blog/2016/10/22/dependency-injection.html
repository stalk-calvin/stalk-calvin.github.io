
<!-- Post Layout Start -->

<!DOCTYPE html>
<html lang="en">

  
<!-- HEAD Start -->

<head>
  


  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="robots" content="index, follow">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Stories about Calvin: Beer, Fitness, Diet, Computer Science and Programming.">
  <meta name="author" content="Calvin Lee">
  <meta name="keywords" content="calvin, lee, personal, blog, beer, fitness, diet, computer, science, programming, software, engineer">
  <link rel="canonical" href="/blog/2016/10/22/dependency-injection.html">
  <title>I am Calvin | DI: Comparing Spring vs. Google Guice: By Example</title>

  <!-- Bootstrap Core CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

  <!-- Custom CSS -->
  <link href="/css/grayscale.css" rel="stylesheet">
  

  <!-- Custom Fonts -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/rrssb.css" />
  <link rel="stylesheet" href="/css/custom.css" />
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
  
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico">
  

  

  


  <!-- iOS Web App mode -->

  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" sizes="36x36" href="/img/web-app/icon-36p.png">
  <link rel="apple-touch-icon" sizes="48x48" href="/img/web-app/icon-48p.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/img/web-app/icon-72p.png">
  <link rel="apple-touch-icon" sizes="96x96" href="/img/web-app/icon-96p.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/img/web-app/icon-144p.png">
  <link rel="apple-touch-icon" sizes="192x192" href="/img/web-app/icon-192p.png">

  <!-- Android Web App mode -->

  <link rel="manifest" href="/manifest.json">




  
<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">


  


    
  
  <!-- MathJax -->
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  
  <!-- Google Analytics -->
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-88428523-1', 'auto');
      ga('send', 'pageview');
      
  </script>

  
</head>
<!-- HEAD End -->


  <body>

    
<!-- Navigation Start -->

<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
        <i class="fa fa-bars"></i>
      </button>
      
        <a class="navbar-brand" href="/">
      
          <div>
            
              <img src="/img/black-lab-glass.ico" alt="favicon">
            
            <h4 style="display:inline">I am Calvin</h4>
          </div>
        </a>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
      <ul class="nav navbar-nav">
        
          <!-- Blog, Post, Tag and Error pages -->
          
            <li>
            
                <a href="/#about"> About </a>
            
            </li>
          
            <li>
            
              
                <a href="/blog/"> Blog </a>
              
            
            </li>
          
            <li>
            
                <a href="/#timeline"> Timeline </a>
            
            </li>
          
            <li>
            
                <a href="/#search"> Search </a>
            
            </li>
          
            <li>
            
                <a href="/#contact"> Contact </a>
            
            </li>
          
        
      </ul>
    </div>
  </div>
</nav>

<!-- Navigation End -->


    <section id="post" class="container content-section ">
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
          <h1 style="display:inline; color: #F4A460;"><strong>DI: Comparing Spring vs. Google Guice: By Example</strong></h1>
          <h4 style="display:inline; color: #F4A460;"><strong></strong></h4><br />
          <h4>
            <strong>22 Oct 2016</strong>
            <small>
              <a href="/blog/2016/10/22/dependency-injection.html#disqus_thread">Comments</a>
              <br />
              
                <a class="tag" href="/tags/#dependency">#dependency</a>
              
                <a class="tag" href="/tags/#injection">#injection</a>
              
                <a class="tag" href="/tags/#di">#di</a>
              
                <a class="tag" href="/tags/#spring">#spring</a>
              
                <a class="tag" href="/tags/#guice">#guice</a>
              
                <a class="tag" href="/tags/#java">#java</a>
              
                <a class="tag" href="/tags/#computer">#computer</a>
              
            </small>
          </h4>

          <nav class="pagination" role="navigation">
            
              <a href="https://stalk-calvin.github.io/blog/2016/10/29/lombok.html" class="btn" title="Lombok: Simplify your development of Java code">&laquo; Lombok: Simplify your development of Java code</a>
            
            
              <a href="https://stalk-calvin.github.io/blog/2016/10/15/builder-pattern.html" class="btn" title="Builder Pattern vs Factory Method Pattern">Builder Pattern vs Factory Method Pattern &raquo;</a>
            
          </nav><!-- /.pagination -->

          <h3 style="clear:left;" id="what-is-a-dependancy-injection-why-do-we-need-it">What is a Dependancy Injection? Why do we need it?</h3>

<p>Last time I wrote about design patterns on how we can create objects in different ways. Here is another way of creating an object, which is called Dependecy Injection. Simply, dependency is being injected from outside (container). There are 2 of the most popular ways to inject objects. One is to use Spring Framework, the other would be Guice created by Google. Let’s talk about these 2 and how they compare to traditional object creation.</p>

<ol>
  <li>Spring Framework (aka Spring MVC)</li>
</ol>

<ul>
  <li>Constructor Injection</li>
  <li>Setter Injection</li>
  <li>Interface Injection</li>
</ul>

<p>I will not go through all of them above. I will explain the Injection via Constructor method. First you need to load maven dependencies, you may not need the all of these dependencies but they are here more for reference purpose:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">   <span class="nt">&lt;dependency&gt;</span>
       <span class="nt">&lt;groupId&gt;</span>org.springframework<span class="nt">&lt;/groupId&gt;</span>
       <span class="nt">&lt;artifactId&gt;</span>spring-core<span class="nt">&lt;/artifactId&gt;</span>
       <span class="nt">&lt;version&gt;</span>${spring.version}<span class="nt">&lt;/version&gt;</span>
   <span class="nt">&lt;/dependency&gt;</span>
   <span class="nt">&lt;dependency&gt;</span>
       <span class="nt">&lt;groupId&gt;</span>org.springframework<span class="nt">&lt;/groupId&gt;</span>
       <span class="nt">&lt;artifactId&gt;</span>spring-context<span class="nt">&lt;/artifactId&gt;</span>
       <span class="nt">&lt;version&gt;</span>${spring.version}<span class="nt">&lt;/version&gt;</span>
   <span class="nt">&lt;/dependency&gt;</span></code></pre></figure>

<p>We make a simple class with Constructor:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">calvin</span><span class="o">.</span><span class="na">beans</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpringTest</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">fileManager</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">SpringTest</span><span class="o">(</span><span class="n">FileManager</span> <span class="n">fileManager</span><span class="o">)</span> <span class="o">{</span>
       <span class="k">this</span><span class="o">.</span><span class="na">fileManager</span> <span class="o">=</span> <span class="n">fileManager</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>FileManager.java:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">calvin</span><span class="o">.</span><span class="na">beans</span><span class="o">;</span> 

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FileManager</span> <span class="o">{</span>
   <span class="kd">private</span> <span class="n">File</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">();</span>
   <span class="kd">public</span> <span class="n">File</span> <span class="nf">getDirectory</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">directory</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
      <span class="o">...</span> <span class="n">code</span> <span class="o">...</span>
   <span class="o">}</span>

   <span class="o">...</span> <span class="n">code</span> <span class="o">...</span>
<span class="o">}</span></code></pre></figure>

<p>And then we need beans applicationContext.xml:</p>

<p>After you have them ready, prepare your bean xml.</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
 <span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
        <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
        <span class="na">xmlns:context=</span><span class="s">"http://www.springframework.org/schema/context"</span>
        <span class="na">xmlns:lang=</span><span class="s">"http://www.springframework.org/schema/lang"</span>
        <span class="na">xmlns:util=</span><span class="s">"http://www.springframework.org/schema/util"</span>
        <span class="na">xmlns:aop=</span><span class="s">"http://www.springframework.org/schema/aop"</span>
        <span class="na">xmlns:tx=</span><span class="s">"http://www.springframework.org/schema/tx"</span>
        <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans</span> <span class="err">http://www.springframework.org/schema/beans/spring-beans-2.5.xsd</span>
           <span class="err">http://www.springframework.org/schema/context</span> <span class="err">http://www.springframework.org/schema/context/spring-context-2.5.xsd</span>
           <span class="err">http://www.springframework.org/schema/lang</span> <span class="err">http://www.springframework.org/schema/lang/spring-lang-2.5.xsd</span>
           <span class="err">http://www.springframework.org/schema/aop</span> <span class="err">http://www.springframework.org/schema/aop/spring-aop-2.5.xsd</span>
           <span class="err">http://www.springframework.org/schema/util</span> <span class="err">http://www.springframework.org/schema/util/spring-util-2.5.xsd</span>
           <span class="err">http://www.springframework.org/schema/tx</span> <span class="err">http://www.springframework.org/schema/tx/spring-tx-2.5.xsd"</span><span class="nt">&gt;</span>
 
    <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"fileManager"</span> <span class="na">class=</span><span class="s">"org.calvin.beans.FileManager</span> <span class="nt">/&gt;</span> 
    <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"springTest"</span> <span class="na">class=</span><span class="s">"org.calvin.beans.SpringTest"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;constructor-arg</span> <span class="na">ref=</span><span class="s">"fileManager"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/bean&gt;</span>
<span class="nt">&lt;/beans&gt;</span></code></pre></figure>

<p>Then finally here is the main class which loads the object:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">calvin</span><span class="o">.</span><span class="na">test</span><span class="o">;</span>
 
<span class="kn">import</span> <span class="nn">org.springframework.context.ApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.support.ClassPathXmlApplicationContext</span><span class="o">;</span>
 
<span class="kn">import</span> <span class="nn">org.calvin.beans.SpringTest</span><span class="o">;</span>
 
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpringDemo</span> <span class="o">{</span>
 
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">a</span><span class="o">[]){</span>
        <span class="n">String</span> <span class="n">confFile</span> <span class="o">=</span> <span class="s">"applicationContext.xml"</span><span class="o">;</span>
        <span class="n">ApplicationContext</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="n">confFile</span><span class="o">);</span>
        <span class="n">SpringTest</span> <span class="n">st</span> <span class="o">=</span> <span class="o">(</span><span class="n">SpringTest</span><span class="o">)</span> <span class="n">context</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="s">"springTest"</span><span class="o">);</span>
        <span class="n">st</span><span class="o">.</span><span class="na">getFileManager</span><span class="o">().</span><span class="na">getDirectory</span><span class="o">(</span><span class="s">"xxx"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Now you will be able to get to fileManager and get the directory via Spring DI. As you can see, A Spring bean is basically an object managed by Spring. More specifically, it is an object that is instantiated, configured and otherwise managed by a Spring Framework container. Spring is a POJO-driven although it doesn’t necessarily have to be. That means its using traditional style to create objects. No strings attached to complicate things.</p>

<ol>
  <li>Google Guice (pronounced as Juice)</li>
</ol>

<p>Guice is a lightweight dependency injection framework for Java 6 and above. This framework which is released by Google is under the Apache License, meaning you can use it freely as long as you preserve the copyright notice and disclaimers. The main difference with Guice Framework compared to Spring Framework is that Guice uses <code class="highlighter-rouge">Annotations</code>. Annotations in Java are first introduced in Java 5, but it was integrated into the Javac compiler in version 1.6 which is probably why Guice is supported for Java 6 and above. There are probably ways to bind with Annotations in Spring as well. However, I never found myself useful in Spring Framework.</p>

<p>Let me first give some ideas on what all annotations in Guice mean:</p>

<ul>
  <li><code class="highlighter-rouge">@Inject</code> - It tells where the injection is happening, you can place on constructors, methods or even fields</li>
  <li><code class="highlighter-rouge">@Qualifier</code> - It defines the identity of objects. It has close relationship to <code class="highlighter-rouge">@Named</code> annotation</li>
  <li><code class="highlighter-rouge">@Named</code> - It is used with <code class="highlighter-rouge">@Inject</code> annotation. You can use <code class="highlighter-rouge">@Qualifier</code> to name object and use <code class="highlighter-rouge">@Named</code> to use it.</li>
  <li><code class="highlighter-rouge">@Scope</code> - It tells life span of injecting object. If not defined, will create a new object each time. If defined, thread-safe becomes important.</li>
  <li><code class="highlighter-rouge">@Singleton</code> - Similar to <code class="highlighter-rouge">@Scope</code>. Basic to DI Framework.</li>
</ul>

<p>First just like Spring, you need the libs/api provided by Google..</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
	<span class="nt">&lt;groupId&gt;</span>com.google.inject<span class="nt">&lt;/groupId&gt;</span>
	<span class="nt">&lt;artifactId&gt;</span>guice<span class="nt">&lt;/artifactId&gt;</span>
	<span class="nt">&lt;version&gt;</span>3.0<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span></code></pre></figure>

<p>Sample Code:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">pacakage</span> <span class="n">org</span><span class="o">.</span><span class="na">calvin</span><span class="o">.</span><span class="na">guice</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.google.inject.Inject</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.inject.AbstractModule</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doSomeThing</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Print SomeThing"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">EngineService</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Car</span> <span class="n">car</span><span class="o">;</span>

    <span class="nd">@Inject</span>
    <span class="kd">public</span> <span class="nf">EngineService</span><span class="o">(</span><span class="n">Car</span> <span class="n">car</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">car</span> <span class="o">=</span> <span class="n">car</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doSomeThing</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Print SomeThing"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">CarModule</span> <span class="kd">extends</span> <span class="n">AbstractModule</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">bind</span><span class="o">(</span><span class="n">Car</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>What’s important above is that it binds Car.class via AbstractModule which is provided by Google. Let’s test it out.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">calvin</span><span class="o">.</span><span class="na">guice</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">hamcrest</span><span class="o">.</span><span class="na">CoreMatchers</span><span class="o">.</span><span class="na">not</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">hamcrest</span><span class="o">.</span><span class="na">CoreMatchers</span><span class="o">.</span><span class="na">nullValue</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">hamcrest</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">Is</span><span class="o">.</span><span class="na">is</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">Assert</span><span class="o">.</span><span class="na">assertThat</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.junit.Before</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.google.inject.Guice</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.inject.Injector</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EngineServiceTest</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">Injector</span> <span class="n">injector</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

    <span class="nd">@Before</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUp</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">injector</span> <span class="o">=</span> <span class="n">Guice</span><span class="o">.</span><span class="na">createInjector</span><span class="o">(</span><span class="k">new</span> <span class="n">CarModule</span><span class="o">());</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">injector</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="n">not</span><span class="o">(</span><span class="n">nullValue</span><span class="o">())));</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetEngineService</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">EngineService</span> <span class="n">engineService</span> <span class="o">=</span> <span class="n">injector</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">EngineService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">engineService</span><span class="o">.</span><span class="na">doSomeThing</span><span class="o">();</span>
        <span class="n">engineService</span><span class="o">.</span><span class="na">getCar</span><span class="o">().</span><span class="na">doSomeThing</span><span class="o">();</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">engineService</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="n">not</span><span class="o">(</span><span class="n">nullValue</span><span class="o">())));</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetCar</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">Car</span> <span class="n">car</span> <span class="o">=</span> <span class="n">injector</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">Car</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">car</span><span class="o">.</span><span class="na">doSomeThing</span><span class="o">();</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">car</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="n">not</span><span class="o">(</span><span class="n">nullValue</span><span class="o">())));</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>The output:</p>

<p><code class="highlighter-rouge">testGetEngineService</code> is 
<code class="highlighter-rouge">Print nothing
Print SomeThing</code></p>

<p><code class="highlighter-rouge">testGetCar</code> is
<code class="highlighter-rouge">Print SomeThing</code></p>

<p>As you can see, you can be flexible as you wish to create your object.</p>



          
<!-- Share Buttons Start -->
<div>
  <h5 style="margin-bottom:1em;margin-left:.5em;"><i class="fa fa-quote-left" aria-hidden="true"></i> Share this post <i class="fa fa-quote-right" aria-hidden="true"></i></h5>
  <ul class="rrssb-buttons clearfix">
    
      <li class="rrssb-email">
        <a href="mailto:?subject=DI: Comparing Spring vs. Google Guice: By Example&body=https://stalk-calvin.github.io/blog/2016/10/22/dependency-injection.html" data-proofer-ignore>
          <span class="rrssb-icon">
            <svg xmlns="https://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
              <path d="M20.11 26.147c-2.335 1.05-4.36 1.4-7.124 1.4C6.524 27.548.84 22.916.84 15.284.84 7.343 6.602.45 15.4.45c6.854 0 11.8 4.7 11.8 11.252 0 5.684-3.193 9.265-7.398 9.3-1.83 0-3.153-.934-3.347-2.997h-.077c-1.208 1.986-2.96 2.997-5.023 2.997-2.532 0-4.36-1.868-4.36-5.062 0-4.75 3.503-9.07 9.11-9.07 1.713 0 3.7.4 4.6.972l-1.17 7.203c-.387 2.298-.115 3.3 1 3.4 1.674 0 3.774-2.102 3.774-6.58 0-5.06-3.27-8.994-9.304-8.994C9.05 2.87 3.83 7.545 3.83 14.97c0 6.5 4.2 10.2 10 10.202 1.987 0 4.09-.43 5.647-1.245l.634 2.22zM16.647 10.1c-.31-.078-.7-.155-1.207-.155-2.572 0-4.596 2.53-4.596 5.53 0 1.5.7 2.4 1.9 2.4 1.44 0 2.96-1.83 3.31-4.088l.592-3.72z"
              />
            </svg>
          </span>
        </a>
      </li>
    
    
      <li class="rrssb-facebook">
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://stalk-calvin.github.io/blog/2016/10/22/dependency-injection.html&title=DI: Comparing Spring vs. Google Guice: By Example" class="popup">
          <span class="rrssb-icon">
            <svg xmlns="https://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" width="29" height="29" viewBox="0 0 29 29"><path d="M26.4 0H2.6C1.714 0 0 1.715 0 2.6v23.8c0 .884 1.715 2.6 2.6 2.6h12.393V17.988h-3.996v-3.98h3.997v-3.062c0-3.746 2.835-5.97 6.177-5.97 1.6 0 2.444.173 2.845.226v3.792H21.18c-1.817 0-2.156.9-2.156 2.168v2.847h5.045l-.66 3.978h-4.386V29H26.4c.884 0 2.6-1.716 2.6-2.6V2.6c0-.885-1.716-2.6-2.6-2.6z"
              class="cls-2" fill-rule="evenodd"/></svg>
          </span>
        </a>
      </li>
    
    
      <li class="rrssb-twitter">
        <a href="https://twitter.com/share?url=https://stalk-calvin.github.io/blog/2016/10/22/dependency-injection.html&text=DI: Comparing Spring vs. Google Guice: By Example"
        class="popup">
          <span class="rrssb-icon"><svg xmlns="https://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="M24.253 8.756C24.69 17.08 18.297 24.182 9.97 24.62c-3.122.162-6.22-.646-8.86-2.32 2.702.18 5.375-.648 7.507-2.32-2.072-.248-3.818-1.662-4.49-3.64.802.13 1.62.077 2.4-.154-2.482-.466-4.312-2.586-4.412-5.11.688.276 1.426.408 2.168.387-2.135-1.65-2.73-4.62-1.394-6.965C5.574 7.816 9.54 9.84 13.802 10.07c-.842-2.738.694-5.64 3.434-6.48 2.018-.624 4.212.043 5.546 1.682 1.186-.213 2.318-.662 3.33-1.317-.386 1.256-1.248 2.312-2.4 2.942 1.048-.106 2.07-.394 3.02-.85-.458 1.182-1.343 2.15-2.48 2.71z"/></svg></span>
        </a>
      </li>
    
    
      <li class="rrssb-linkedin">
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://stalk-calvin.github.io/blog/2016/10/22/dependency-injection.html" class="popup">
        <span class="rrssb-icon">
          <svg xmlns="https://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
            <path d="M25.424 15.887v8.447h-4.896v-7.882c0-1.98-.71-3.33-2.48-3.33-1.354 0-2.158.91-2.514 1.802-.13.315-.162.753-.162 1.194v8.216h-4.9s.067-13.35 0-14.73h4.9v2.087c-.01.017-.023.033-.033.05h.032v-.05c.65-1.002 1.812-2.435 4.414-2.435 3.222 0 5.638 2.106 5.638 6.632zM5.348 2.5c-1.676 0-2.772 1.093-2.772 2.54 0 1.42 1.066 2.538 2.717 2.546h.032c1.71 0 2.77-1.132 2.77-2.546C8.056 3.593 7.02 2.5 5.344 2.5h.005zm-2.48 21.834h4.896V9.604H2.867v14.73z"
            />
          </svg>
        </span>
      </a>
      </li>
    
    
    
      <li class="rrssb-googleplus">
        <a href="https://plus.google.com/share?url=https://stalk-calvin.github.io/blog/2016/10/22/dependency-injection.html" class="popup">
          <span class="rrssb-icon">
            <svg xmlns="https://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 8.29h-1.95v2.6h-2.6v1.82h2.6v2.6H21v-2.6h2.6v-1.885H21V8.29zM7.614 10.306v2.925h3.9c-.26 1.69-1.755 2.925-3.9 2.925-2.34 0-4.29-2.016-4.29-4.354s1.885-4.353 4.29-4.353c1.104 0 2.014.326 2.794 1.105l2.08-2.08c-1.3-1.17-2.924-1.883-4.874-1.883C3.65 4.586.4 7.835.4 11.8s3.25 7.212 7.214 7.212c4.224 0 6.953-2.988 6.953-7.082 0-.52-.065-1.104-.13-1.624H7.614z"/></svg>
          </span>
        </a>
      </li>
    
    
  </ul>
</div>

<!-- Share Buttons End -->


          
            <div id="disqus_thread"></div><!-- /#disqus_thread -->
            <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'stalkcalvin'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

          

          <nav class="pagination" role="navigation">
            
              <a href="https://stalk-calvin.github.io/blog/2016/10/29/lombok.html" class="btn" title="Lombok: Simplify your development of Java code">&laquo; Lombok: Simplify your development of Java code</a>
            
            
              <a href="https://stalk-calvin.github.io/blog/2016/10/15/builder-pattern.html" class="btn" title="Builder Pattern vs Factory Method Pattern">Builder Pattern vs Factory Method Pattern &raquo;</a>
            
          </nav><!-- /.pagination -->

          <hr />

          
          <div class="author row">
            <img class="col-xs-4 col-sm-3 col-md-2" src="/img/author.jpg" alt="Me" />
            <p class="col-xs-8 col-sm-9 col-md-10">
              Calvin Lee is a passionate software developer working in Gastown, Vancouver. <br/>If you would like to connect with him, choose one from below options :) </br>You can also just send me an email at <a href="mailto:stalk.calvin@gmail.com?subject=Mail from Calvin&lrquo;s Blog">stalk.calvin@gmail.com</a>
            </p>
          </div>
          
        </div>
      </div>
    </section>

    
 <!-- Footer Start -->

<footer>

    
<!-- Social Buttons Start -->

<ul class="list-inline social-buttons">
  
    <li><a href="https://keybase.io/stalkcalvin" target="_blank"><i class="fa fa-key fa-fw"></i></a></li>
  
    <li><a href="https://instagram.com/stalk.calvin" target="_blank"><i class="fa fa-instagram fa-fw"></i></a></li>
  
    <li><a href="https://linkedin.com/in/stalkme" target="_blank"><i class="fa fa-linkedin-square fa-fw"></i></a></li>
  
    <li><a href="https://github.com/stalk-calvin" target="_blank"><i class="fa fa-github-alt fa-fw"></i></a></li>
  
    <li><a href="https://leetcode.com/stalkcalvin/" target="_blank"><i class="fa fa-code fa-fw"></i></a></li>
  
    <li><a href="https://www.hackerrank.com/stalk_calvin" target="_blank"><i class="fa fa-header fa-fw"></i></a></li>
  
    <li><a href="https://untappd.com/user/stalk-calvin" target="_blank"><i class="fa fa-beer fa-fw"></i></a></li>
  
    <li><a href="/feed.xml" target="_blank"><i class="fa fa-rss fa-fw"></i></a></li>
  
</ul>

<!-- Social Buttons End -->


    <p><br><br></p>

    <div class="container text-center">
      <p>Copyright &copy; Calvin Lee 2016</p>
    </div>
</footer>

<p><br><br><br><br><br><br></p>

<!-- Footer End -->


    
<!-- Javascript Start -->

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

<!-- Plugin JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

<!-- Custom Theme JavaScript -->
<!--* Start Bootstrap - Grayscale Bootstrap Theme (http://startbootstrap.com)
* Code licensed under the Apache License v2.0.
* For details, see http://www.apache.org/licenses/LICENSE-2.0.-->
<script>
$(document).on('click',function(){
$('.collapse').collapse('hide');
})
</script> 
<script>
function toggleNavCollapse(){50<$(".navbar").offset().top?$(".navbar-fixed-top").addClass("top-nav-collapse"):$(".navbar-fixed-top").removeClass("top-nav-collapse");}
$(document).ready(toggleNavCollapse);
$(window).scroll(toggleNavCollapse);$(function(){$("a.page-scroll").bind("click",function(b){var a=$(this);$("html, body").stop().animate({scrollTop:$(a.attr("href")).offset().top-50},1500,"easeInOutExpo",function(){a.blur()});b.preventDefault()})});$(".navbar-collapse ul li a").click(function(){$(".navbar-toggle:visible").click()});
</script>













<script>
function addTohistory() {
  if (!window.location.host.startsWith("127.0.0.1")) {
    history.pushState({}, 'DI: Comparing Spring vs. Google Guice: By Example', 'https://stalk-calvin.github.io/blog/2016/10/22/dependency-injection.html');
  }
}
</script>

<!-- Gesture Navigation / Swipe Instruction Start -->


  

  

  

  

<!-- Gesture Navigation / Swipe Instruction End -->



<!-- Javascript End -->


  </body>
</html>

<!-- Post Layout End -->
